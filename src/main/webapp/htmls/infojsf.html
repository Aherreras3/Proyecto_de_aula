<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>JavaServer Faces</title>
        <link href="../css/pa.css" rel="stylesheet" type="text/css" media="screen" >
        <link rel="stylesheet" href="../css/prism.css">
    </head>
    <body>
        <form action="../index.html">
            <button type="submit">Atras</button>
        </form>
        <div id="indexjs">
            <h1 id="tindex">Índice</h1>
            <hr class="linea">
            <ul>
                <li><a href="#qjs">1 ¿Qué es JavaServer Faces?</a></li>
                <ul>
                    <li><a href="#conp">1.1 Caracteristicas de JSF</a></li>
                </ul>
                <li><a href="#ujsf">2 Uso de JSF</a></li>
                <ul>
                    <li><a href="#use1">2.1 Ubicación de recursos en JSF</a></li>
                    <ul>
                        <li><a href="#use11">2.1.1 Hojas de estilos (CSS)</a></li>
                        <li><a href="#use12">2.1.2 Archivos Java Script</a></li>
                        <li><a href="#use13">2.1.2 Archivos Imagen</a></li>
                    </ul>
                </ul>
                <li><a href="#ujsf2">3 Conexión a datos usando JSP</a></li>
                <ul>
                    <li><a href="#paso1">3.1 Dependencia de la base de datos</a></li>
                    <li><a href="#paso2">3.2 Crear clase conexión</a></li>
                    <li><a href="#paso3">3.3 Creacion de la clase Integrantes</a></li>
                    <li><a href="#paso4">3.4 Creación del controlador</a></li>
                </ul>
            </ul>
        </div>
        <header id="tt">
            <h1 id="qjs" class="title">¿Que es JavaServer Faces?</h1>
        </header>
        <div id="segundaColumna">
            <p class="param">
                JSF es un marco web Java orientado a componentes del lado del servidor que simplifica el proceso 
                de desarrollo de aplicaciones web empresariales Java enriquecidas. JSF se destaca por brindar un 
                enfoque altamente personalizable pero estandarizado para crear interfaces de usuario de aplicaciones. 
                El nivel de la interfaz de usuario suele ser la parte más desafiante y variable de cualquier aplicación. 
                También es la diferencia entre una aplicación exitosa que es ampliamente adoptada y evolucionada 
                consistentemente versus una que es adoptada a regañadientes y cambiada con frecuencia para cumplir 
                con los deseos del usuario.
                JSF proporciona una plataforma poderosa para resolver los problemas comunes que aparecen con frecuencia 
                durante el desarrollo de aplicaciones web empresariales de Java, como validación, conversión, navegación, 
                creación de plantillas y flujos de páginas. Al proporcionar una forma estándar para resolver los problemas 
                comunes del desarrollo de aplicaciones web, JSF es un marco excelente que reduce el tiempo de desarrollo 
                y mantenimiento de las aplicaciones web.
                Esto es especialmente cierto cuando su equipo de desarrollo es grande y está distribuido, un escenario 
                común que se encuentra en la empresa. La creación de experiencias de usuario en torno a un conjunto de 
                componentes JSF estandarizados permite un buen grado de personalización y expresión, pero también 
                establece un "ADN compartido" sobre cómo debe verse, comportarse y responder una aplicación en diferentes 
                implementaciones.[1]
            </p>

            <h2 id="conp" class="subtitle">Caracteristicas de JSF</h2>
            <p class="param">
                JSF ofrece API y bibliotecas de etiquetas para:
            </p>
            <ul>
                <li>Proporcionar componentes de interfaz de usuario para el desarrollo rápido de aplicaciones.</li>
                <li>Cableado de eventos de componentes en el código del lado del servidor Java.</li>
                <li>Vinculación de componentes de la interfaz de usuario con POJO (Plain Old Java Objects)"Objetos Java simples y antiguos". </li>
                <li>Proporcionar un conjunto de validadores y convertidores incorporados útiles, y ofrecer un mecanismo para
                    la creación de los personalizados con el fin de cumplir con los requisitos específicos. </li>
                <li>Manejo de excepciones.</li>
                <li>Manejo de la navegación entre las páginas de la aplicación.</li>
                <li>Creación de plantillas de página y plantillas de aplicación.</li>
                <li>Definir flujos de página de una manera que refleje los requisitos de la aplicación.</li>
                <li>Manejar la localización e internacionalización de la interfaz de usuario.</li>
                <li>Creación de páginas en "tiempo real" que se actualizan automáticamente con datos de back-end y API.</li>
                <li>Creación de componentes personalizados mediante la extensión de clases de marco y la provisión de una implementación para vistas, eventos y estados de componentes personalizados.</li>
            </ul>

            <h1 id="ujsf" class="title">Uso de JSF</h1>
            <p class="param">
                La mayor parte de los navegadores actuales interpretan el leguaje JSF como HTMT 5, por lo que su manejo, se puede
                decir de cierta manera que es parecido, solo con cierto cambio e la forma de manejo de las etiquetas.<br>
                A continuación veremos como es el manejo de este lenguaje:
            </p>
            <h2 id="use1" class="subtitle">Ubicación de recursos en JSF</h2>
            <p class="param">
                Para JSF se introdujo un estandar para la ubicación de recursos, por que se se recomienda almacenar todos 
                estos recurso de una manera ordenada.<br>
                Para esto se recomienda crear una carpeta con el nombre "resources" en la que se almacenaran los recursos
                segun su uso, ejemplo si desea agregar imagenes dentro de la carpeta anteriormente mesionada se creara otra
                carpeta con el nombre "images".
                <img class="imgs" src="../images/Captura.PNG" alt=""/>
            </p>
            <h3 id="use11" class="subtitle">Hojas de estilos (CSS)</h3>
            <p class="param">
                Para obtener una hojas de estilo (css), dentro de la carpeta de resorces debe existir otra con el nombre
                "css" donde se encontraran todos los archivos css a utilizar.<br>
                Y para realizar el llamado a dicho archivo ya almacenado, se lo realiza de la siguiente manera.<br>
            </p>
            <pre  class="example">
                <code class="language-markup">
                        &lth:outputStylesheet library="css" name="mystyles.css"/&gt
                </code>
            </pre>

            <h3 id="use12" class="subtitle"> Archivos Java Script</h3>
            <p class="param">
                Para obtener los archivos Java Script debe existir dicho archivo n la ruta /resources/scripts/nombre_archivo.js.<br>
                Y para realizar el llamado a dicho archivo ya almacenado, se lo realiza de la siguiente manera.<br>
            </p>
            <pre  class="example">
                <code class="language-markup">
                        &lth:outputScript library="scripts" name="mycript.js"/&gt
                </code>
            </pre>

            <h3 id="use13" class="subtitle"> Archivos Imagen</h3>
            <p class="param">
                Para obtener los archivos Imagen debe existir dicho archivo n la ruta /resources/images/nombre_image.<br>
                Y para realizar el llamado a dicho archivo ya almacenado, se lo realiza de la siguiente manera.<br>
            </p>
            <pre  class="example">
                <code class="language-markup">
                        &lth:graphicImage library="images" name="logo.png"/&gt
                </code>
            </pre>

            <h1 id="ujsf2" class="title">Conexión a datos usando JSF</h1>
            <p class="param">
                Podemos realizar conexión hacia una base de datos de manera local o remota, a contición realizaremos una
                conexión de manera local hacia nuesto gestos de base de datos, que para esta prueba será postgreSQL, pero
                pdemos usar cualquier otro gestor de base de datos.<br>
                Además utilizaremos el IDE de Apache Netbeans v12.4<br>
                los paso para realizar esto se desglozaran a continuación.
            </p>
            <h2 id="paso1" class="subtitle">Dependecias de la Base de Datos</h2>
            <p class="param">
                Como primer paso debemos colocar la dependecia de nuetro gentor de base de datos en el archivo pom.xml
                se se ecuentra dentro de la carpeta de Project Files que se encuentra en nuestro proyecto.<br>
                <img src="../images/Captura1.PNG" alt=""/><br>
                Si necesitas saber cual es la dependencia de su gestor de base de datsos puede realizar la busqueda en la web.<br>
                En nuestro caso al tratarse de PostgreSQL la dependencia en la siguiente:<br>
            </p>

            <pre  class="example">
                <code class="language-markup">
                        &ltdependency&gt
                            &ltgroupId>org.postgresql&lt/groupId&gt
                            &ltartifactId>postgresql&lt/artifactId&gt
                            &ltversion>42.4.0&lt/version&gt
                        &lt/dependency&gt
                </code>
            </pre>

            <h2 id="paso2" class="subtitle">Creacion de la clase Conexión</h2>
            <p class="param">
                Como Segundo paso, procedermos a crear un nuevo documento .java en el que agregaremos todos los datos necesarios
                para realizar nuestra conexión a la base de datos.<br>
                <img src="../images/conexion.PNG" alt=""/><br>
                Dentro de dicho archivo se definiran los elementos necesarios para la conexion de manera exitosa.<br>
            </p>
            <div class="clases">
                <pre  class="example">
                <code class="language-java">
                        import java.sql.Connection;
                        import java.sql.Statement;
                        import java.sql.ResultSet;
                        import java.sql.DriverManager;

                        public class Conexion {

                            static String login = "projects";
                            static String password = "123456";
                            static String url = "jdbc:postgresql://localhost/postgres";

                            private Statement statement;
                            private Connection conexion;

                            public Conexion() throws Exception {
                                conexion = null;
                                statement = null;

                                Class.forName("org.postgresql.Driver");
                                conexion = DriverManager.getConnection(url, login, password);

                                if (conexion != null) {
                                    statement = conexion.createStatement();
                                    System.out.println("Conexión a base de datos " + url + " ... Ok");
                                }

                            }

                            public long insertar(String sentence) throws Exception {
                                return statement.executeUpdate(sentence);
                            }
                            public long delete(String sentence) throws Exception {
                                return statement.executeUpdate(sentence);
                            }
                            public long update(String sentence) throws Exception {
                                return statement.executeUpdate(sentence);
                            }
                            public long select(String sentence) throws Exception {
                                return statement.executeUpdate(sentence);
                            }

                            public Connection getConexion() {
                                return conexion;
                            }

                            public void setConexion(Connection conexion) {
                                this.conexion = conexion;
                            }
                        }
                </code>
                </pre>
            </div>
            <h2 id="paso3" class="subtitle">Creacion de la clase Integrantes</h2>
            <p class="param">
                Como tercer paso, procedermos a crear un nuevo documento .java en el que agregaremos todos los datos que queramos
                manejar, tanto para insertar, eliminar, leer o actualizar dentro de la base de datos.<br>
                <img src="../images/integrantes.PNG" alt=""/><br>
            </p>
            <div class="clases">
                <pre  class="example">
                <code class="language-java">
                        public class Integrantes {

                        private String id;
                        private String nombres;
                        private String direccion;
                        private String telefono;
                        private String fechaNace;

                        public String getId() {
                            return id;
                        }

                        public void setId(String id) {
                            this.id = id;
                        }


                        public Integrantes() {
                        }

                        public Integrantes(String id, String nombre, String direccion, String phone, String fechaNace) {
                            this.id=id;
                            this.nombres=nombre;
                            this.direccion=direccion;
                            this.telefono=phone;
                            this.fechaNace=fechaNace;

                        }

                        public String getNombres() {
                            return nombres;
                        }

                        public void setNombres(String nombres) {
                            this.nombres = nombres;
                        }

                        public String getDireccion() {
                            return direccion;
                        }

                        public void setDireccion(String direccion) {
                            this.direccion = direccion;
                        }

                        public String getTelefono() {
                            return telefono;
                        }

                        public void setTelefono(String telefono) {
                            this.telefono = telefono;
                        }

                        public String getFechaNace() {
                            return fechaNace;
                        }

                        public void setFechaNace(String fechaNace) {
                            this.fechaNace = fechaNace;
                        }
                        public long insert() throws Exception {
                            String sentence = "INSERT INTO public.integrantes("
                                    + "id, nombres, direccion, telefono, fecha_nace) "
                                    + "VALUES ('" + id + "', '" + nombres + "', '" + direccion + "', '" + telefono + "', '" + fechaNace + "');";
                            Conexion conexion = new Conexion();
                            return conexion.insertar(sentence);
                        }

                        public long delete() throws Exception {
                            String sentence = "DELETE public.integrantes("
                                    + "WHERE id="+id+";";
                            Conexion conexion = new Conexion();
                            return conexion.delete(sentence);
                        }
                        public long update() throws Exception {
                            String sentence = "UPDATE public.integrantes SET nombres="+nombres+",direccion="+direccion+",telefono="+telefono+",fecha_nace="+fechaNace;
                            Conexion conexion = new Conexion();
                            return conexion.update(sentence);
                        }

                        public long select() throws Exception {
                            Conexion conexion = new Conexion();
                            String sentence = "SELECT * FROM integrantes;";
                            ResultSet rs;
                            return conexion.select(sentence);
                        }
                    }
                </code>
                </pre>
            </div>
            <h2 id="paso4" class="subtitle">Creación del controlador</h2>
            <p class="param">
                Como cuarto paso, procedermos a crear un nuevo documento .java, el cual se encargara de recibir los datos
                y ejecutar las acciones como select, update, delete e insert dentro de la base de datos.<br>
                <img src="../images/controlador.PNG" alt=""/><br>
            </p>
            <div class="clases">
                <pre  class="example">
                <code class="language-java">
                    @Named
                    @RequestScoped
                    public class IntegrantesControl {
                        private String id;
                        private String nombres;
                        private String direccion;
                        private String telefono;
                        private String fecha_nace;
                        private String saludo;

                        public String getId() {
                            return id;
                        }

                        public void setId(String id) {
                            this.id = id;
                        }


                        public String getNombres() {
                            return nombres;
                        }

                        public void setNombres(String nombres) {
                            this.nombres = nombres;
                        }

                        public String getDireccion() {
                            return direccion;
                        }

                        public void setDireccion(String direccion) {
                            this.direccion = direccion;
                        }

                        public String getTelefono() {
                            return telefono;
                        }

                        public void setTelefono(String telefono) {
                            this.telefono = telefono;
                        }

                        public String getFechaNace() {
                            return fecha_nace;
                        }

                        public void setFechaNace(String fechaNace) {
                            this.fecha_nace = fechaNace;
                        }

                        public void saludar(ActionEvent actionEvent) {
                            saludo = nombres + " " + fecha_nace;
                        }

                        public String getSaludo() {
                            return (saludo = nombres + " " + fecha_nace);
                        }

                        public void setSaludo(String saludo) {
                            this.saludo = saludo;
                        }

                        public String save() {
                            Integrantes integrante = new Integrantes(id, nombres, direccion, telefono,fecha_nace);
                            try {
                                if (integrante.insert() == 1) {
                                    return "confirmation";
                                } else {
                                    return "error";
                                }
                            } catch (Exception e) {
                                return "error";
                            }
                        }
                        public String delete() {
                            Integrantes integrante = new Integrantes(id, nombres, direccion, telefono,fecha_nace);
                            try {
                                if (integrante.delete() == 1) {
                                    return "confirmation";
                                } else {
                                    return "error";
                                }
                            } catch (Exception e) {
                                return "error";
                            }
                        }
                        public String select() {
                            Integrantes integrante = new Integrantes(id, nombres, direccion, telefono,fecha_nace);
                            try {
                                if (integrante.select() == 1) {
                                    long rs=integrante.select();
                                    return "confirmation";
                                } else {
                                    return "error";
                                }
                            } catch (Exception e) {
                                return "error";
                            }
                        }
                        public String update() {
                            Integrantes integrante = new Integrantes(id, nombres, direccion, telefono,fecha_nace);
                            try {
                                if (integrante.update() == 1) {
                                    return "confirmation";
                                } else {
                                    return "error";
                                }
                            } catch (Exception e) {
                                return "error";
                            }
                        }
                    }
                </code>
                </pre>
            </div>
            <footer id="fin"> 
    <h2 class="final">Bibliografía y Referencias</h2> 
    <p class="param">
        [1]	H. Saleh, L. A. Christensen, and Z. Wadia, Pro JSF and HTML5, no. 1. 2013.
    </p>
</footer>
        </div>
        <script src="../jss/prism.js"></script>
    </body>
</html>
